<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.P. Initiative - Announcements & Communication</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function checkForAnnouncements() {
            fetch('https://raw.githubusercontent.com/YOUR_GITHUB_USERNAME/YOUR_REPO/main/announcements.json')
                .then(response => response.json())
                .then(data => {
                    if (data.latest) {
                        const announcementsContainer = document.getElementById('announcements');
                        announcementsContainer.innerHTML = '';
                        data.latest.forEach((announcement, index) => {
                            const announcementDiv = document.createElement('div');
                            announcementDiv.classList.add('announcement');
                            announcementDiv.innerHTML = `
                                <div class="announcement-header">
                                    <img src="profile.png" alt="Profile" class="profile-pic">
                                    <span class="username">A.P. Initiative</span>
                                    <span class="timestamp">${announcement.timestamp}</span>
                                </div>
                                <p>${announcement.text}</p>
                            `;
                            announcementsContainer.appendChild(announcementDiv);
                        });
                    }
                })
                .catch(error => console.error('Error fetching announcements:', error));
        }
        setInterval(checkForAnnouncements, 60000);

        function toggleDarkMode() {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
        }
        window.onload = function() {
            if (localStorage.getItem("darkMode") === "true") {
                document.body.classList.add("dark-mode");
            }
            checkForAnnouncements();
        }
    </script>
</head>
<body>
    <nav>
        <div class="nav-container">
            <h1 class="logo">A.P. Initiative</h1>
            <div class="nav-links">
                <a href="#">Home</a>
                <a href="#subscribe">Subscribe</a>
                <a href="#contact">Contact</a>
            </div>
            <button class="moon-button" onclick="toggleDarkMode()">ðŸŒ™</button>
        </div>
    </nav>
    <header>
        <h1>Welcome to A.P. Initiative</h1>
        <p>Stay updated with our latest announcements and communications.</p>
    </header>
    <main>
        <section class="container" id="subscribe">
            <h2>Subscribe to Our Newsletter</h2>
            <form action="https://formsubmit.co/YOUR_EMAIL_HERE" method="POST">
                <input type="email" name="email" placeholder="Enter your email" required>
                <input type="tel" name="phone" placeholder="Enter your phone (optional)">
                <button type="submit">Subscribe</button>
            </form>
        </section>
        <section class="container announcements">
            <h2>Latest Announcements</h2>
            <div id="announcements">Loading...</div>
        </section>
        <section class="container contact-form" id="contact">
            <h2>Contact Us</h2>
            <form action="https://formsubmit.co/YOUR_EMAIL_HERE" method="POST">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" placeholder="Your Message" rows="4" required></textarea>
                <button type="submit">Send</button>
            </form>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 A.P. Initiative. All rights reserved.</p>
    </footer>
</body>
</html>
